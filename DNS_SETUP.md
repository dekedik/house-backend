# Настройка DNS для домена

## Где настраивать DNS записи

DNS записи настраиваются у **регистратора домена** или у **DNS-провайдера**, где зарегистрирован домен `admin-doman-gorizont.ru`.

## Как найти, где зарегистрирован домен

### 1. Проверка регистратора через WHOIS

```bash
whois admin-doman-gorizont.ru
```

Или используйте онлайн-сервисы:
- https://whois.net/
- https://www.whois.com/

В результатах будет указан:
- **Registrar** - регистратор домена
- **Name Servers** - DNS серверы

### 2. Популярные регистраторы доменов

- **Reg.ru** - https://www.reg.ru/
- **Timeweb** - https://timeweb.com/
- **Beget** - https://beget.com/
- **REGISTRATOR.RU** - https://www.registrator.ru/
- **GoDaddy** - https://www.godaddy.com/
- **Namecheap** - https://www.namecheap.com/

## Настройка A-записи

Вам нужно создать **A-запись** (или изменить существующую):

### Параметры A-записи:

- **Тип записи:** A
- **Имя/Поддомен:** `@` или `admin-doman-gorizont.ru` (для основного домена) или оставить пустым
- **Значение/IP:** `95.163.226.62`
- **TTL:** `3600` (или значение по умолчанию)

### Примеры настроек:

#### Для основного домена (admin-doman-gorizont.ru):
```
Тип: A
Имя: @
Значение: 95.163.226.62
TTL: 3600
```

#### Для поддомена (www.admin-doman-gorizont.ru):
```
Тип: A
Имя: www
Значение: 95.163.226.62
TTL: 3600
```

## Инструкции для популярных регистраторов

### Reg.ru

1. Войдите в личный кабинет: https://www.reg.ru/
2. Перейдите в раздел **"Домены"** → выберите домен
3. Откройте **"DNS-серверы и зона"**
4. Нажмите **"Добавить запись"**
5. Выберите тип **A**
6. Заполните:
   - **Поддомен:** `@` (для основного домена)
   - **IP-адрес:** `95.163.226.62`
7. Сохраните изменения

### Timeweb

1. Войдите в панель управления: https://timeweb.com/
2. Перейдите в **"Домены"** → выберите домен
3. Откройте **"DNS-записи"**
4. Нажмите **"Добавить запись"**
5. Выберите тип **A**
6. Заполните:
   - **Имя:** `@` или оставьте пустым
   - **Значение:** `95.163.226.62`
7. Сохраните изменения

### Beget

1. Войдите в панель: https://beget.com/
2. Перейдите в **"Домены"** → выберите домен
3. Откройте **"DNS-зона"**
4. Нажмите **"Добавить запись"**
5. Выберите тип **A**
6. Заполните:
   - **Поддомен:** `@`
   - **IP:** `95.163.226.62`
7. Сохраните изменения

## Проверка настроек DNS

После настройки DNS записей нужно подождать **от 5 минут до 24 часов** (обычно 15-30 минут) для распространения изменений.

### Проверка через командную строку:

```bash
# Проверка A-записи
dig admin-doman-gorizont.ru +short
# Должен вернуть: 95.163.226.62

# Или
nslookup admin-doman-gorizont.ru
# Должен показать: 95.163.226.62

# Проверка с разных DNS серверов
dig @8.8.8.8 admin-doman-gorizont.ru +short
dig @1.1.1.1 admin-doman-gorizont.ru +short
```

### Онлайн проверка:

- https://dnschecker.org/ - проверка DNS по всему миру
- https://www.whatsmydns.net/ - проверка DNS записей
- https://mxtoolbox.com/DNSLookup.aspx - детальная проверка DNS

## Важные моменты

1. **Время распространения (TTL):** Изменения DNS могут занять до 24 часов, но обычно работают через 15-30 минут
2. **Кеширование:** Браузер и DNS кеш могут показывать старые значения. Используйте приватный режим или очистите кеш
3. **Проверка перед SSL:** Обязательно убедитесь, что домен указывает на правильный IP **перед** установкой SSL сертификата
4. **Wildcard поддомены:** Если нужны поддомены (например, `*.admin-doman-gorizont.ru`), создайте A-запись с именем `*`

## После настройки DNS

Когда DNS записи настроены и домен указывает на `95.163.226.62`, можно устанавливать SSL:

```bash
cd /opt/house-backend
./scripts/setup-ssl.sh
```

